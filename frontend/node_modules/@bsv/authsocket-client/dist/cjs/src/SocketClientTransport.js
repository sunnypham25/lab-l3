"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SocketClientTransport = void 0;
class SocketClientTransport {
    constructor(socket) {
        this.socket = socket;
        // Subscribe to the 'authMessage' event from the server
        this.socket.on('authMessage', async (msg) => {
            if (this.onDataCallback) {
                await this.onDataCallback(msg);
            }
        });
    }
    /**
     * Send an AuthMessage to the server.
     */
    async send(message) {
        this.socket.emit('authMessage', message);
    }
    /**
     * Register a callback to handle incoming AuthMessages.
     */
    async onData(callback) {
        this.onDataCallback = callback;
    }
}
exports.SocketClientTransport = SocketClientTransport;
//# sourceMappingURL=SocketClientTransport.js.map